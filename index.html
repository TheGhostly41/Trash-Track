<!DOCTYPE html>

<html>
  <head>
    <title>TrashTrack Bin Finder</title>

    <link rel="stylesheet" href="assests/css/index.css" />
    <link rel="stylesheet" href="assests/css/general.css" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&family=Questrial&display=swap"
      rel="stylesheet"
    />
  </head>

  <body>
    <header>
      <div class="name-container">
        <img class="logo-icon" src="assests/icons/logo.png" />
        <h1>Trash Track</h1>
      </div>

      <div class="tooltips">
        <a href="pages/tips.html"> <img src="assests/icons/tips.svg" class="tips-icon" /></a>
        <a href="pages/about.html"> <img src="assests/icons/about.svg" class="about-icon" /></a>
      </div>
    </header>

    <main>
      <button class="maps-navigate" id="disposeBtn">Dispose my trash!</button>
      <div id="mapFrameContainer" style="margin-top: 16px"></div>
    </main>

    <script>
      // Create or reload the iframe with ?nearest=1
      document.getElementById("disposeBtn").addEventListener("click", () => {
        const container = document.getElementById("mapFrameContainer");
        container.innerHTML = "";

        const iframe = document.createElement("iframe");
        iframe.src = "pages/maps.html?nearest=1";
        iframe.title = "TrashTrack Map";
        iframe.style.width = "1000px";
        iframe.style.height = "1000px";
        iframe.style.paddingTop = "16px";
        iframe.style.border = "0";
        iframe.style.borderRadius = "25px";
        iframe.loading = "lazy";

        container.appendChild(iframe);
        container.scrollIntoView({ behavior: "smooth", block: "start" });
      });
    </script>
  </body>
</html>
